<header class="grid">
  <h1>ENKI</h1>
</header>
<main>
  <nav>
    <a (click)="logout()">Logout</a>
  </nav>
  <app-map *ngIf="canSeeEvents()"></app-map>
  <ul class="affaires" >
    <li *ngFor='let affaire of affaires' class="affaire">
      <div class="affaire__naturedefait">
        <img src="../assets/alert.svg" class="affaire__icon"/><span class="-title">Nature de fait :</span> {{affaire.natureDeFait}}
      </div>
      <div class="affaire__victimes">
        <span class="-title">Nombre de victimes : </span> {{affaire.nbDeVictimes}}
      </div>
      <div class="affaire__address">
        <span class="-title">Adresse : </span> {{affaire.adresse}}
      </div>
    </li>
  </ul>
  <nav>
    <ul>
      <li>
        <a routerLink="/">Home</a>
      </li>
      <li *ngIf="canSeeEvents()">
        <a routerLink="./test">Infos confidentielles !</a>
      </li>
    </ul>
  </nav>
  <p>Bienvenue sur le prototype de Enki !</p>
  <p>Vous êtes connecté en tant que : <i>{{token}}</i></p>
  <p *ngIf="!canSeeEvents()">Vous n'avez pas le droit de voir les infos confidentielles concernant les alertes...</p>
  <router-outlet></router-outlet>


</main>
